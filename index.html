<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        
        /*let playerInitialChoice = prompt("Let's play a game! best 3 out of 5 wins! Choose Rock, Paper, or Scissors");
        let playerSelection = playerInitialChoice.toLowerCase();
        let computerSelection = computerPlay();*/

        
        console.log(game());
        
        function computerPlay(){
            let compuChoice = [
            "rock",
            "paper",
            "scissors"
        ];
            let computerRandom = compuChoice[Math.floor(Math.random()*compuChoice.length)];
            return(computerRandom)
        }

        function game(){
            let playerInitialChoice = prompt("Choose Rock, Paper, or Scissors");
            let playerSelection = playerInitialChoice.toLowerCase();
            let computerSelection = computerPlay();
            let human = 0;
            let computer = 0;
            let i;

            for (i = 0; i < 5; i++) {
                let round = gamePlay(playerSelection, computerSelection);
                if (round === "You won!"){
                    console.log("won")
                    human++;
                    alert("You won! One point for you!");
                    playerSelection = prompt("Choose again").toLowerCase();
                    computerSelection = computerPlay();

                } else if (round === "You lost!"){
                    console.log("lost")
                    computer++;
                    alert("You lost. One point for computer");
                    playerSelection = prompt("Choose again").toLowerCase();
                    computerSelection = computerPlay();
                } else if (round === "It's a tie") {
                    console.log("tie")
                    alert("It's a tie! No points awarded...");
                    playerSelection = prompt("Choose again").toLowerCase();
                    computerSelection = computerPlay();
                } else if (round === "incorrect value"){
                    alert("Incorrect value, try again");
                    playerSelection = prompt("Choose again").toLowerCase();
                    computerSelection = computerPlay();
                }
            console.log(computer);
            console.log(human);
            }
            if (human > computer){
                alert("You are the winner!!!");
            } else {
                alert("You lost to the computer");
            }
            return(alert("Game Over. Refresh page to play again"));
            
        }
        
        

        function gamePlay(playerSelection,computerSelection){
            if (playerSelection === "rock"){
                if (computerSelection === "paper"){
                    return(loser());
                } else if (computerSelection === "scissors"){
                    return(winner());
                } else{
                    return(tie());
                }
            } else if (playerSelection === "paper"){
                if (computerSelection === "rock"){
                    return(winner());
                } else if (computerSelection === "scissors"){
                    return(loser());
                } else {
                    return(tie());
                }
            } else if (playerSelection === "scissors"){
                if (computerSelection === "paper"){
                    return(winner());
                } else if (computerSelection === "rock"){
                    return(loser());
                } else {
                    return(tie());
                }
            } else {
                return("incorrect value")
            }
        }
        
        function winner(){
            return("You won!")
        }
        function loser(){
            return("You lost!")
        }
        function tie(){
            return("It's a tie")
        }
        
    </script>
</body>
</html>